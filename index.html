<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>BARCCES Home</title>
  <style>
@import url('https://fonts.googleapis.com/css2?family=Tilt+Warp:wght@700&family=Chivo+Mono&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tilt+Warp&display=swap');

:root {
  --fosc: #231f20;
  --vermell: #bb4430;
  --blau: #7ebdc2;
  --groc: #f3dfa2;
  --beige: #FFF6EB;
}

body {
  margin: 0;
  font-family: 'Chivo Mono', monospace;
  background-color: var(--beige);
  color: var(--fosc);
}

h1, h2, h3 {
 font-family: 'Tilt Warp', sans-serif;
 text-align: center;
  margin: 2rem 0 1rem;
}

header {
  background-color: var(--vermell);
  color: var(--beige);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
}

header .logo {
  display: flex;
  align-items: center;
}

header .logo img {
  height: 40px;
  width: auto;
}

.menu {
  display: flex;
  align-items: center;
}

.menu button {
  margin-left: 1rem;
  padding: 0.4rem 0.8rem;
  background-color: var(--beige);
  color: var(--vermell);
  font-weight: bold;
  font-family: 'Chivo Mono', monospace;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.menu button:hover {
  background-color: var(--groc);
}
.buscant {
  padding: 2rem 1rem;
  text-align: center;
  font-size: 2rem;
}

.opcions {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin-top: 2rem;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 1rem;
}

.opcio {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 110px;
  cursor: pointer;
}

.opcio img {
  width: 80px;
  height: 80px;
  margin-bottom: 0.5rem;
  border-radius: 50%;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.opcio:hover img {
 transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.opcio span {
  font-size: 0.9rem;
  text-align: center;
  word-break: break-word;
  color: var(--fosc);
}
.filters-container {
  position: absolute;
  top: 2rem;
  right: 2rem;
  width: 250px;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  z-index: 1000;
}

.filter-box {
  background-color: #e0f0ff;
  padding: 1rem;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.districte-dropdown {
  margin-top: 0.5rem;
  padding-left: 1rem;
  display: none;
}

.clear-button {
  background-color: #007acc;
  color: white;
  border: none;
  padding: 0.75rem;
  border-radius: 0.5rem;
  cursor: pointer;
  font-weight: bold;
}

.clear-button:hover {
  background-color: #005f99;
}

.filters {
  padding: 1.5rem;
  max-width: 90%;
  width: 900px;
  margin: 0 auto;
}

.filter-group {
  background-color: var(--blau);
  padding: 1rem;
  border-radius: 10px;
  margin-bottom: 1rem;
}

fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

legend {
  font-weight: bold;
  font-size: 1rem;
  margin-bottom: 0.5rem;
  color: var(--fosc);
}

.filters label {
  display: inline-block;
  margin: 0.3rem 1rem 0.3rem 0;
  font-size: 0.9rem;
  color: var(--fosc);
}

#clear-filters {
  display: block;
  margin: 1rem auto 0;
  padding: 0.6rem 1.2rem;
  background-color: var(--vermell);
  color: var(--beige);
  border: none;
  border-radius: 8px;
  font-family: 'Chivo Mono', monospace;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

#clear-filters:hover {
  background-color: #9e3e2e;
}


label {
  display: inline-block;
  font-size: 0.9rem;
}

button {
  margin-top: 1rem;
  padding: 0.5rem 1.2rem;
  background-color: var(--vermell);
  color: var(--beige);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-family: 'Chivo Mono', monospace;
}

button:hover {
  background-color: #9e3e2e;
}

.filters-bloc {
  text-align: center;
  margin: 3rem auto;
}

.filters-title {
  font-family: 'Tilt Warp', sans-serif;
  font-size: 2rem;
  margin-bottom: 1.5rem;
  text-align: center;
}

.filters-inner {
  background-color: var(--blau);
  padding: 2rem;
  border-radius: 20px;
  width: 90%;
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.filters-inner fieldset {
  width: 100%;
  margin-bottom: 1rem;
}

.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
}

.filter-buttons button {
  margin-top: 0;
}

.menu {
  flex: 1;
  display: flex;
  justify-content: center;
}

.menu button {
  position: relative;
  left: 0;
  transform: translateX(0%);
}

.contact-button {
     margin-left: 1rem;
      padding: .4rem .8rem;
      background-color: var(--beige);
      color: var(--vermell);
      font-weight: bold;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color .2s;
}

.filter-box {
  background-color: #e6f0ff;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.filters {
  display: flex;
  gap: 2rem; 
}

.filter {
  padding: 0.75rem;
  font-size: 1rem;
  border-radius: 4px;
  border: 1px solid #ccc;
}

.button-row {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
}

.action-button {
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  background-color: #007acc;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}


#map {
  height: 500px;
  margin: 2rem auto;
  width: 90%;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.projecte {
  margin: 3rem auto;
  padding: 2rem;
  background-color: var(--beige);
  border-radius: 10px;
  max-width: 800px;
  text-align: center;
  font-size: 2rem;
}

.projecte img {
  width: 40%;
  max-width: 300px;
  margin: 1rem auto;
  display: block;
}

.projecte p {
  font-family: 'Chivo Mono', monospace;
  text-align: justify;
  font-size: 0.85rem;
  line-height: 1.5;
  margin: 1rem 0;
  color: var(--fosc);
}

.projecte .aporta {
  background-color: var(--vermell);
  color: var(--beige);
  padding: 0.8rem 1.5rem;
  font-size: 1rem;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 1.5rem;
  font-family: 'Chivo Mono', monospace;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.projecte .aporta:hover {
  background-color: #9e3e2e;
}

footer {
  background-color: var(--vermell);
  color: var(--beige);
  font-family: 'Chivo Mono', monospace;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  font-size: 0.75rem;
}

.footer-links a,
.footer-icons a {
  margin-right: 10px;
  text-decoration: none;
  color: var(--beige);
}

.footer-icons img {
  width: 25px;
}

footer ul {
  list-style: none;
  padding: 0;
}

footer li {
  display: inline;
  margin-right: 1rem;
}

footer a {
  text-decoration: none;
  color: #0055a5;
  font-weight: 500;
}

.contact-button {
  padding: 0.4rem 0.8rem;
  background-color: var(--beige);
  color: var(--vermell);
  font-weight: bold;
  font-family: 'Chivo Mono', monospace;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  text-decoration: none;
  margin-left: auto;

}

.contact-button:hover {
  background-color: var(--groc);
}

.districte-dropdown {
  display: none;
  margin-top: 0.5rem;
  padding-left: 1rem;
}


@media (max-width: 768px) {

header {
  flex-direction: column;
  align-items: flex-start;
  padding: 1rem;
}

.menu {
  width: 100%;
  justify-content: flex-start;
  margin-top: 1rem;
}

.menu button,
.contact-button {
  margin-left: 0;
  margin-right: 1rem;
}

.opcions {
  flex-wrap: wrap;
  justify-content: center;
  overflow-x: visible;
}

.filters {
  flex-direction: column;
  gap: 1rem;
  width: 100%;
}

.filters-inner {
  padding: 1rem;
  border-radius: 10px;
}

.filters-container {
  position: static;
  width: 100%;
  padding: 1rem;
}

.projecte {
  padding: 1rem;
  font-size: 1.5rem;
}

.projecte img {
  width: 80%;
}

footer {
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.footer-links, .footer-icons {
  margin-top: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

#map {
  height: 300px;
}
}


</style>
</head>

<body>

<header>
  <div class="logo">
 <img src="recursos/6.png" alt="Logo">
  </div>
  <div class="menu">
  <a href="contacta.html" class="contact-button">Contacta amb nosaltres</a>
  </div>  
</header>


  <section class="buscant">
    <h1>Què estàs buscant?</h1>
    <div class="opcions">
      <label class="opcio" data-type="font">
        <img src="recursos/1.png" alt="Fonts d’aigua">
          <span>Fonts<br>d’aigua</span>
      </label>
      </label>
      <label class="opcio" data-type="endoll">
        <img src="recursos/5.png" alt="Endolls">
        <span>Endolls</span>
      </label>
      </label>
      <label class="opcio" data-type="lavabo">
        <img src="recursos/3.png" alt="Lavabos">
                <span>Lavabos</span>
    </label>
      </label>
      <label class="opcio" data-type="wifi">
       <img src="recursos/4.png" alt="wifi">
      <span>wifi</span>
       </label>
      </label>
      <label class="opcio" data-type="refugi">
      <img src="recursos/2.png" alt="Refugis climàtics">
       <span>Refugis<br>climàtics</span>
       </label>
      </label>
    </div>
  </section>

  <section class="filters-bloc">
    <h2 class="filters-title">Filtres</h2>
    <div class="filters-inner">
<fieldset>
    <legend>Categoria</legend>
    <label><input type="checkbox" class="filter-cat" value="font"> Fonts</label>
    <label><input type="checkbox" class="filter-cat" value="endoll"> Endolls</label>
    <label><input type="checkbox" class="filter-cat" value="lavabo"> Lavabos</label>
    <label><input type="checkbox" class="filter-cat" value="wifi"> Wi-Fi</label>
    <label><input type="checkbox" class="filter-cat" value="refugi"> Refugis</label>
  </fieldset>

  <fieldset>
    <legend>Tipus</legend>
    <label><input type="checkbox" class="filter-tipus" value="gratuït"> Gratuït</label>
    <label><input type="checkbox" class="filter-tipus" value="acces-limitat"> Accés limitat</label>
    <label><input type="checkbox" class="filter-tipus" value="pagament"> De pagament</label>
  </fieldset>

  <fieldset>
    <legend>Accessibilitat</legend>
    <label><input type="checkbox" class="filter-access" value="cadires-de-rodes"> Cadires de rodes</label>
   <label><input type="checkbox" class="filter-access" value="canviador"> Canviador</label>
    <label><input type="checkbox" class="filter-access" value="braille"> Braille</label>
</fieldset>
 
<fieldset>
    <legend>Ubicació</legend>
    <label><input type="checkbox" id="districte-toggle"> Filtrar per districte</label>
    <div class="districte-dropdown" id="districte-dropdown">
      <label><input type="checkbox" class="filter-districte" value="ciutat-vella"> Ciutat Vella</label>
      <label><input type="checkbox" class="filter-districte" value="eixample"> Eixample</label>
      <label><input type="checkbox" class="filter-districte" value="sants-montjuic"> Sants-Montjuïc</label>
      <label><input type="checkbox" class="filter-districte" value="les-corts"> Les Corts</label>
      <label><input type="checkbox" class="filter-districte" value="sarria"> Sarrià-St. Gervasi</label>
      <label><input type="checkbox" class="filter-districte" value="gracia"> Gràcia</label>
      <label><input type="checkbox" class="filter-districte" value="horta"> Horta-Guinardó</label>
      <label><input type="checkbox" class="filter-districte" value="nou-barris"> Nou Barris</label>
      <label><input type="checkbox" class="filter-districte" value="sant-andreu"> Sant Andreu</label>
      <label><input type="checkbox" class="filter-districte" value="sant-marti"> Sant Martí</label>
    </div>
  </fieldset>

  <div class="button-row">
  <button onclick="applyFilters()">Aplica Filtres</button>
  <button onclick="showAll()">Mostra Tots</button>
  <button onclick="clearFilters()">Neteja els filtres</button>
  </div>
</div>
</div>
</section>

  <div id="map"></div>

<section class="projecte">
  <h2>Sobre el projecte</h2>
  <img src="recursos/7.png" alt="Ciutat">
  <p>
    BARCCES és una aplicació web que té com a objectiu facilitar la localització de lavabos i fonts públiques accessibles a la ciutat de Barcelona. Pensada especialment per a persones amb mobilitat reduïda, però útil per a tota la ciutadania, l’eina permet consultar punts d’interès accessibles, filtrar per horari, valorar els serveis i compartir informació amb la comunitat.
  </p>
  <p>
    Aquest projecte neix amb la voluntat de contribuir a una ciutat més inclusiva i amigable, on l’accessibilitat sigui una realitat quotidiana i no una excepció.
  </p>
  <button class="aporta" onclick="window.location.href='contacta.html'">Vull fer una aportació</button>
</section>

<footer>
  <div class="footer-links">
    <a href="AIP.html">Accessibilitat i polítiques</a>
    <a href="contacta.html">Contacte / Feedback</a>
  </div>
  <div class="footer-icons">
    <a href="#"><img src="recursos/8.png" alt="LinkedIn"></a>
    <a href="#"><img src="recursos/9.png" alt="Tancar"></a>
    <a href="#"><img src="recursos/10.png" alt="Instagram"></a>
  </div>
</footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
const data = [
      {
        "nom": "Font de Plaça Catalunya",
        "lat": 41.38702,
        "lng": 2.17005,
        "categoria": "font",
        "districte": "Eixample",
        "accessibilitat": ["cadires-de-rodes", "braille"],
        "ubicacio": "prop",
        "puntuacio": 4
      },
      {
        "nom": "Font del Parc de la Ciutadella",
        "lat": 41.38803,
        "lng": 2.18504,
        "categoria": "font",
        "districte": "ciutat-vella",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "prop",
        "puntuacio": 5
      },
      {
        "nom": "Font de Passeig de Gràcia",
        "lat": 41.39172,
        "lng": 2.16494,
        "categoria": "font",
        "districte": "eixample",
        "accessibilitat": ["braille"],
        "ubicacio": "prop",
        "puntuacio": 3
      },
      {
        "nom": "Font de Montjuïc",
        "lat": 41.37057,
        "lng": 2.15028,
        "categoria": "font",
        "districte": "sants-montjuic",
        "accessibilitat": ["braille", "cadires-de-rodes"],
        "ubicacio": "prop",
        "puntuacio": 4
      },
      {
        "nom": "Font de Gràcia",
        "lat": 41.40358,
        "lng": 2.16490,
        "categoria": "font",
        "districte": "gracia",
        "accessibilitat": ["cadires-de-rodes", "braille"],
        "ubicacio": "prop",
        "puntuacio": 5
      },
      {
        "nom": "Font de Sarrià",
        "lat": 41.39741,
        "lng": 2.13739,
        "categoria": "font",
        "districte": "sarria",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "prop",
        "puntuacio": 3
      },
      {
        "nom": "Refugi Climàtic Ciutadella",
        "lat": 41.38847,
        "lng": 2.18658,
        "categoria": "refugi",
        "districte": "ciutat-vella",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "parc",
        "puntuacio": 5
      },
      {
        "nom": "Refugi Climàtic Parc de les Aigües",
        "lat": 41.41219,
        "lng": 2.16582,
        "categoria": "refugi",
        "districte": "gracia",
        "accessibilitat": ["braille"],
        "ubicacio": "parc",
        "puntuacio": 4
      },
      {
        "nom": "Refugi Climàtic Jardins de Montjuïc",
        "lat": 41.36418,
        "lng": 2.15889,
        "categoria": "refugi",
        "districte": "sants-montjuic",
        "accessibilitat": ["cadires-de-rodes", "braille"],
        "ubicacio": "parc",
        "puntuacio": 5
      },
      {
        "nom": "Lavabos Públics Plaça Catalunya",
        "lat": 41.38740,
        "lng": 2.16988,
        "categoria": "lavabo",
        "districte": "eixample",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "prop",
        "puntuacio": 4
      },
      {
        "nom": "Lavabos Públics Ciutadella",
        "lat": 41.38890,
        "lng": 2.18412,
        "categoria": "lavabo",
        "districte": "ciutat-vella",
        "accessibilitat": ["canviador"],
        "ubicacio": "prop",
        "puntuacio": 3
      },
      {
        "nom": "Lavabos Públics Sants Estació",
        "lat": 41.38089,
        "lng": 2.14058,
        "categoria": "lavabo",
        "districte": "sants-montjuic",
        "accessibilitat": ["cadires-de-rodes", "braille"],
        "ubicacio": "interior",
        "puntuacio": 5
      },
      {
        "nom": "Wi-Fi Públic Universitat",
        "lat": 41.38640,
        "lng": 2.16452,
        "categoria": "wifi",
        "districte": "eixample",
        "accessibilitat": ["canviador"],
        "ubicacio": "exterior",
        "puntuacio": 5
      },
      {
        "nom": "Wi-Fi Públic Parc de la Ciutadella",
        "lat": 41.38785,
        "lng": 2.18505,
        "categoria": "wifi",
        "districte": "ciutat-vella",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "parc",
        "puntuacio": 4
      },
      {
        "nom": "Zona Endolls Biblioteca Sagrada Família",
        "lat": 41.40353,
        "lng": 2.17402,
        "categoria": "endoll",
        "districte": "eixample",
        "accessibilitat": ["cadires-de-rodes"],
        "ubicacio": "interior",
        "puntuacio": 5
      },
      {
        "nom": "Zona Endolls Centre Cívic Barceloneta",
        "lat": 41.38018,
        "lng": 2.19098,
        "categoria": "endoll",
        "districte": "ciutat-vella",
        "accessibilitat": ["canviador","braile"],
        "ubicacio": "interior",
        "puntuacio": 3
      }
    ];

    const map = L.map('map').setView([41.3874, 2.1686], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    let markers = [];

    function clearMarkers() {
      markers.forEach(m => map.removeLayer(m));
      markers = [];
    }

    function renderPoints(points) {
      clearMarkers();
      if (!points.length) return;
      const bounds = L.latLngBounds();
      points.forEach(item => {
        const m = L.marker([item.lat, item.lng]).addTo(map)
          .bindPopup(
            `<strong>${item.nom}</strong><br>
             Categoria: ${item.categoria}<br>
             Accessibilitat: ${item.accessibilitat.join(', ')}<br>
             Districte: ${item.districte}`
          );
        markers.push(m);
        bounds.extend([item.lat, item.lng]);
      });
      map.fitBounds(bounds, { padding: [40, 40] });
    }

    function getCheckedValues(selector) {
      return Array.from(document.querySelectorAll(selector + ':checked'))
                  .map(cb => cb.value);
    }
    
        function applyFilters() {
      const cats   = getCheckedValues('.filter-cat');
      const tipus  = getCheckedValues('.filter-tipus');
      const access = getCheckedValues('.filter-access');
      const ds     = document.getElementById('districte-toggle').checked
                     ? getCheckedValues('.filter-districte')
                     : [];

      const filtered = data.filter(item =>
        (cats.length === 0   || cats.includes(item.categoria))      &&
        (tipus.length === 0  || tipus.includes(item.tipus))         &&
        (access.length === 0 || access.every(a => item.accessibilitat.includes(a))) &&
        (ds.length === 0     || ds.includes(item.districte))
      );

      renderPoints(filtered);
    }

       function showAll() {
      document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
      renderPoints(data);
    }

    document.getElementById('districte-toggle').addEventListener('change', function() {
      document.getElementById('districte-dropdown').style.display =
     this.checked ? 'block' : 'none';
    });
    showAll();
  
  document.getElementById("clear-filters").addEventListener("click", function () {
    const checkboxes = document.querySelectorAll(
      ".filters input[type='checkbox']"
    );
    checkboxes.forEach((checkbox) => {
      checkbox.checked = false;
    });

    const districteDropdown = document.getElementById("districte-dropdown");
    if (districteDropdown) {
    districteDropdown.style.display = "none";
    }
  });

  function clearFilters() {
  document.querySelectorAll('.filters-container input[type="checkbox"]').forEach(cb => cb.checked = false);
  
  document.getElementById('districte-dropdown').style.display = 'none';
}


  const districteToggle = document.getElementById("districte-toggle");
  if (districteToggle) {
    districteToggle.addEventListener("change", function () {
    const dropdown = document.getElementById("districte-dropdown");
     if (this.checked) {
      dropdown.style.display = "block";
      } else {
        dropdown.style.display = "none";
      }
    });
  }
  </script>
</body>
</html>
